{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\bcg\\\\New folder\\\\integrations_technical_assessment\\\\frontend\\\\src\\\\integrations\\\\hubspot.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, Button, CircularProgress, List, ListItem, ListItemText, Typography, Alert, Divider } from '@mui/material';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE = 'http://localhost:8000';\nconst ENDPOINTS = {\n  authorize: `${API_BASE}/integrations/hubspot/authorize`,\n  credentials: `${API_BASE}/integrations/hubspot/credentials`,\n  items: `${API_BASE}/integrations/hubspot/items`\n};\nexport const HubSpotIntegration = ({\n  user,\n  org,\n  integrationParams,\n  setIntegrationParams\n}) => {\n  _s();\n  const [state, setState] = useState({\n    isConnected: !!(integrationParams !== null && integrationParams !== void 0 && integrationParams.credentials),\n    isLoading: false,\n    items: [],\n    error: null\n  });\n  const navigate = useNavigate();\n  const checkConnection = useCallback(async () => {\n    if (!(integrationParams !== null && integrationParams !== void 0 && integrationParams.credentials)) return;\n    try {\n      const {\n        data\n      } = await axios.get(ENDPOINTS.credentials, {\n        params: {\n          user_id: user.id,\n          org_id: org.id\n        }\n      });\n      setState(prev => ({\n        ...prev,\n        isConnected: !!data\n      }));\n    } catch (error) {\n      console.error('Connection check failed:', error);\n      setState(prev => ({\n        ...prev,\n        isConnected: false\n      }));\n    }\n  }, [user, org, integrationParams === null || integrationParams === void 0 ? void 0 : integrationParams.credentials]);\n  const handleAuth = useCallback(async action => {\n    setState(prev => ({\n      ...prev,\n      isLoading: true,\n      error: null\n    }));\n    try {\n      if (action === 'connect') {\n        const {\n          data\n        } = await axios.post(ENDPOINTS.authorize, {\n          user_id: user.id,\n          org_id: org.id\n        });\n        if (!(data !== null && data !== void 0 && data.url)) throw new Error('Authorization URL missing');\n        localStorage.setItem('hubspot_connection', JSON.stringify({\n          user,\n          org\n        }));\n        window.location.href = data.url;\n      } else if (action === 'disconnect') {\n        await axios.delete(ENDPOINTS.credentials, {\n          data: {\n            user_id: user.id,\n            org_id: org.id\n          }\n        });\n        setState(prev => ({\n          ...prev,\n          isConnected: false,\n          items: []\n        }));\n        setIntegrationParams(prev => ({\n          ...prev,\n          credentials: null\n        }));\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      const errorMsg = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || error.message || 'Operation failed';\n      setState(prev => ({\n        ...prev,\n        error: typeof errorMsg === 'object' ? JSON.stringify(errorMsg) : errorMsg\n      }));\n    } finally {\n      setState(prev => ({\n        ...prev,\n        isLoading: false\n      }));\n    }\n  }, [user, org, setIntegrationParams]);\n  const fetchItems = useCallback(async () => {\n    setState(prev => ({\n      ...prev,\n      isLoading: true,\n      error: null\n    }));\n    try {\n      const {\n        data\n      } = await axios.get(ENDPOINTS.items, {\n        params: {\n          user_id: user.id,\n          org_id: org.id\n        }\n      });\n      setState(prev => ({\n        ...prev,\n        items: data || []\n      }));\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      const errorMsg = ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.detail) || error.message || 'Fetch failed';\n      setState(prev => ({\n        ...prev,\n        error: errorMsg\n      }));\n    } finally {\n      setState(prev => ({\n        ...prev,\n        isLoading: false\n      }));\n    }\n  }, [user, org]);\n  useEffect(() => {\n    checkConnection();\n  }, [checkConnection]);\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search);\n    const code = params.get('code');\n    const error = params.get('error');\n    if (error) {\n      setState(prev => ({\n        ...prev,\n        error: `Authorization failed: ${error}`\n      }));\n      return;\n    }\n    if (code) {\n      const completeConnection = async () => {\n        try {\n          var _connection$user, _connection$org;\n          const connection = JSON.parse(localStorage.getItem('hubspot_connection') || '{}');\n          if (((_connection$user = connection.user) === null || _connection$user === void 0 ? void 0 : _connection$user.id) !== user.id || ((_connection$org = connection.org) === null || _connection$org === void 0 ? void 0 : _connection$org.id) !== org.id) {\n            throw new Error('User mismatch');\n          }\n          const {\n            data\n          } = await axios.post(ENDPOINTS.credentials, {\n            user_id: user.id,\n            org_id: org.id,\n            code\n          });\n          if (!(data !== null && data !== void 0 && data.access_token)) throw new Error('Invalid credentials');\n          setState(prev => ({\n            ...prev,\n            isConnected: true\n          }));\n          setIntegrationParams(prev => ({\n            ...prev,\n            credentials: data,\n            type: 'HubSpot'\n          }));\n          localStorage.removeItem('hubspot_connection');\n          navigate('/integrations', {\n            replace: true\n          });\n        } catch (error) {\n          var _error$response3, _error$response3$data;\n          const errorMsg = ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.detail) || error.message || 'Connection failed';\n          setState(prev => ({\n            ...prev,\n            error: errorMsg\n          }));\n        }\n      };\n      completeConnection();\n    }\n  }, [navigate, user, org, setIntegrationParams]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      mt: 2,\n      p: 2,\n      border: '1px solid #ddd',\n      borderRadius: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      children: \"HubSpot Integration\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), state.error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2\n      },\n      onClose: () => setState(prev => ({\n        ...prev,\n        error: null\n      })),\n      children: state.error.includes('404') ? 'Endpoint not found' : state.error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      alignItems: \"center\",\n      gap: 2,\n      sx: {\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: state.isConnected ? 'success' : 'primary',\n        onClick: () => handleAuth(state.isConnected ? 'disconnect' : 'connect'),\n        disabled: state.isLoading,\n        startIcon: state.isLoading && /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 20,\n          color: \"inherit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 41\n        }, this),\n        children: state.isConnected ? 'Disconnect' : state.isLoading ? 'Processing...' : 'Connect'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), state.isConnected && /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        onClick: fetchItems,\n        disabled: state.isLoading,\n        startIcon: state.isLoading && /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 43\n        }, this),\n        children: state.isLoading ? 'Fetching...' : 'Fetch Companies'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), state.isConnected && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Divider, {\n        sx: {\n          my: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        gutterBottom: true,\n        children: \"HubSpot Companies\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this), state.items.length > 0 ? /*#__PURE__*/_jsxDEV(List, {\n        dense: true,\n        sx: {\n          maxHeight: 300,\n          overflow: 'auto'\n        },\n        children: state.items.map((item, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n          divider: true,\n          children: /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: item.name || 'Unnamed Company',\n            secondary: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [item.domain && `Domain: ${item.domain}`, item.id && ` • ID: ${item.id}`]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 19\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        children: state.isLoading ? 'Loading...' : 'No companies found'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n};\n_s(HubSpotIntegration, \"kUY6DvDqYgSHTWLA+QQdd06Y/VU=\", false, function () {\n  return [useNavigate];\n});\n_c = HubSpotIntegration;\nexport default HubSpotIntegration;\nvar _c;\n$RefreshReg$(_c, \"HubSpotIntegration\");","map":{"version":3,"names":["useState","useEffect","useCallback","useNavigate","Box","Button","CircularProgress","List","ListItem","ListItemText","Typography","Alert","Divider","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE","ENDPOINTS","authorize","credentials","items","HubSpotIntegration","user","org","integrationParams","setIntegrationParams","_s","state","setState","isConnected","isLoading","error","navigate","checkConnection","data","get","params","user_id","id","org_id","prev","console","handleAuth","action","post","url","Error","localStorage","setItem","JSON","stringify","window","location","href","delete","_error$response","_error$response$data","errorMsg","response","detail","message","fetchItems","_error$response2","_error$response2$data","URLSearchParams","search","code","completeConnection","_connection$user","_connection$org","connection","parse","getItem","access_token","type","removeItem","replace","_error$response3","_error$response3$data","sx","mt","p","border","borderRadius","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","severity","mb","onClose","includes","display","alignItems","gap","color","onClick","disabled","startIcon","size","my","length","dense","maxHeight","overflow","map","item","index","divider","primary","name","secondary","domain","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Documents/bcg/New folder/integrations_technical_assessment/frontend/src/integrations/hubspot.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Box, Button, CircularProgress, List, ListItem, ListItemText, Typography, Alert, Divider } from '@mui/material';\r\nimport axios from 'axios';\r\n\r\nconst API_BASE = 'http://localhost:8000';\r\nconst ENDPOINTS = {\r\n  authorize: `${API_BASE}/integrations/hubspot/authorize`,\r\n  credentials: `${API_BASE}/integrations/hubspot/credentials`,\r\n  items: `${API_BASE}/integrations/hubspot/items`\r\n};\r\n\r\nexport const HubSpotIntegration = ({ user, org, integrationParams, setIntegrationParams }) => {\r\n  const [state, setState] = useState({\r\n    isConnected: !!integrationParams?.credentials,\r\n    isLoading: false,\r\n    items: [],\r\n    error: null\r\n  });\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const checkConnection = useCallback(async () => {\r\n    if (!integrationParams?.credentials) return;\r\n    try {\r\n      const { data } = await axios.get(ENDPOINTS.credentials, { \r\n        params: { \r\n          user_id: user.id, \r\n          org_id: org.id \r\n        } \r\n      });\r\n      setState(prev => ({ ...prev, isConnected: !!data }));\r\n    } catch (error) {\r\n      console.error('Connection check failed:', error);\r\n      setState(prev => ({ ...prev, isConnected: false }));\r\n    }\r\n  }, [user, org, integrationParams?.credentials]);\r\n\r\n  const handleAuth = useCallback(async (action) => {\r\n    setState(prev => ({ ...prev, isLoading: true, error: null }));\r\n    \r\n    try {\r\n      if (action === 'connect') {\r\n        const { data } = await axios.post(ENDPOINTS.authorize, { \r\n          user_id: user.id, \r\n          org_id: org.id \r\n        });\r\n        if (!data?.url) throw new Error('Authorization URL missing');\r\n        localStorage.setItem('hubspot_connection', JSON.stringify({ user, org }));\r\n        window.location.href = data.url;\r\n      } else if (action === 'disconnect') {\r\n        await axios.delete(ENDPOINTS.credentials, { \r\n          data: { \r\n            user_id: user.id, \r\n            org_id: org.id \r\n          } \r\n        });\r\n        setState(prev => ({ ...prev, isConnected: false, items: [] }));\r\n        setIntegrationParams(prev => ({ ...prev, credentials: null }));\r\n      }\r\n    } catch (error) {\r\n      const errorMsg = error.response?.data?.detail || error.message || 'Operation failed';\r\n      setState(prev => ({ ...prev, error: typeof errorMsg === 'object' ? JSON.stringify(errorMsg) : errorMsg }));\r\n    } finally {\r\n      setState(prev => ({ ...prev, isLoading: false }));\r\n    }\r\n  }, [user, org, setIntegrationParams]);\r\n\r\n  const fetchItems = useCallback(async () => {\r\n    setState(prev => ({ ...prev, isLoading: true, error: null }));\r\n    try {\r\n      const { data } = await axios.get(ENDPOINTS.items, { \r\n        params: { \r\n          user_id: user.id, \r\n          org_id: org.id \r\n        } \r\n      });\r\n      setState(prev => ({ ...prev, items: data || [] }));\r\n    } catch (error) {\r\n      const errorMsg = error.response?.data?.detail || error.message || 'Fetch failed';\r\n      setState(prev => ({ ...prev, error: errorMsg }));\r\n    } finally {\r\n      setState(prev => ({ ...prev, isLoading: false }));\r\n    }\r\n  }, [user, org]);\r\n\r\n  useEffect(() => { \r\n    checkConnection(); \r\n  }, [checkConnection]);\r\n\r\n  useEffect(() => {\r\n    const params = new URLSearchParams(window.location.search);\r\n    const code = params.get('code');\r\n    const error = params.get('error');\r\n\r\n    if (error) {\r\n      setState(prev => ({ ...prev, error: `Authorization failed: ${error}` }));\r\n      return;\r\n    }\r\n\r\n    if (code) {\r\n      const completeConnection = async () => {\r\n        try {\r\n          const connection = JSON.parse(localStorage.getItem('hubspot_connection') || '{}');\r\n          if (connection.user?.id !== user.id || connection.org?.id !== org.id) {\r\n            throw new Error('User mismatch');\r\n          }\r\n          \r\n          const { data } = await axios.post(ENDPOINTS.credentials, { \r\n            user_id: user.id, \r\n            org_id: org.id, \r\n            code \r\n          });\r\n          \r\n          if (!data?.access_token) throw new Error('Invalid credentials');\r\n          \r\n          setState(prev => ({ ...prev, isConnected: true }));\r\n          setIntegrationParams(prev => ({ \r\n            ...prev, \r\n            credentials: data, \r\n            type: 'HubSpot' \r\n          }));\r\n          localStorage.removeItem('hubspot_connection');\r\n          navigate('/integrations', { replace: true });\r\n        } catch (error) {\r\n          const errorMsg = error.response?.data?.detail || error.message || 'Connection failed';\r\n          setState(prev => ({ ...prev, error: errorMsg }));\r\n        }\r\n      };\r\n      completeConnection();\r\n    }\r\n  }, [navigate, user, org, setIntegrationParams]);\r\n\r\n  return (\r\n    <Box sx={{ mt: 2, p: 2, border: '1px solid #ddd', borderRadius: 2 }}>\r\n      <Typography variant=\"h6\" gutterBottom>HubSpot Integration</Typography>\r\n      \r\n      {state.error && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }} onClose={() => setState(prev => ({ ...prev, error: null }))}>\r\n          {state.error.includes('404') ? 'Endpoint not found' : state.error}\r\n        </Alert>\r\n      )}\r\n\r\n      <Box display=\"flex\" alignItems=\"center\" gap={2} sx={{ mb: 3 }}>\r\n        <Button\r\n          variant=\"contained\"\r\n          color={state.isConnected ? 'success' : 'primary'}\r\n          onClick={() => handleAuth(state.isConnected ? 'disconnect' : 'connect')}\r\n          disabled={state.isLoading}\r\n          startIcon={state.isLoading && <CircularProgress size={20} color=\"inherit\" />}\r\n        >\r\n          {state.isConnected ? 'Disconnect' : state.isLoading ? 'Processing...' : 'Connect'}\r\n        </Button>\r\n        \r\n        {state.isConnected && (\r\n          <Button\r\n            variant=\"outlined\"\r\n            onClick={fetchItems}\r\n            disabled={state.isLoading}\r\n            startIcon={state.isLoading && <CircularProgress size={20} />}\r\n          >\r\n            {state.isLoading ? 'Fetching...' : 'Fetch Companies'}\r\n          </Button>\r\n        )}\r\n      </Box>\r\n\r\n      {state.isConnected && (\r\n        <>\r\n          <Divider sx={{ my: 2 }} />\r\n          <Typography variant=\"subtitle1\" gutterBottom>HubSpot Companies</Typography>\r\n          \r\n          {state.items.length > 0 ? (\r\n            <List dense sx={{ maxHeight: 300, overflow: 'auto' }}>\r\n              {state.items.map((item, index) => (\r\n                <ListItem key={index} divider>\r\n                  <ListItemText\r\n                    primary={item.name || 'Unnamed Company'}\r\n                    secondary={\r\n                      <>\r\n                        {item.domain && `Domain: ${item.domain}`}\r\n                        {item.id && ` • ID: ${item.id}`}\r\n                      </>\r\n                    }\r\n                  />\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n          ) : (\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              {state.isLoading ? 'Loading...' : 'No companies found'}\r\n            </Typography>\r\n          )}\r\n        </>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default HubSpotIntegration;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}