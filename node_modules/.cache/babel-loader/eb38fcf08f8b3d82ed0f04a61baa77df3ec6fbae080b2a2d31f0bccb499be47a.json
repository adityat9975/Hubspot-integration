{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\bcg\\\\New folder\\\\integrations_technical_assessment\\\\frontend\\\\src\\\\integrations\\\\hubspot.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, Button, CircularProgress, List, ListItem, ListItemText, Typography, Alert, Divider } from '@mui/material';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE = 'http://localhost:8000';\nconst ENDPOINTS = {\n  authorize: `${API_BASE}/integrations/hubspot/authorize`,\n  credentials: `${API_BASE}/integrations/hubspot/credentials`,\n  items: `${API_BASE}/integrations/hubspot/items`\n};\nexport const HubSpotIntegration = ({\n  user,\n  org,\n  integrationParams,\n  setIntegrationParams\n}) => {\n  _s();\n  const [state, setState] = useState({\n    isConnected: !!(integrationParams !== null && integrationParams !== void 0 && integrationParams.credentials),\n    isLoading: false,\n    items: [],\n    error: null\n  });\n  const navigate = useNavigate();\n  const checkConnection = useCallback(async () => {\n    if (!(integrationParams !== null && integrationParams !== void 0 && integrationParams.credentials)) return;\n    try {\n      const {\n        data\n      } = await axios.get(ENDPOINTS.credentials, {\n        params: {\n          user_id: user,\n          org_id: org\n        }\n      });\n      setState(prev => ({\n        ...prev,\n        isConnected: (data === null || data === void 0 ? void 0 : data.connected) || false\n      }));\n    } catch (error) {\n      console.error('Connection check failed:', error);\n    }\n  }, [user, org, integrationParams === null || integrationParams === void 0 ? void 0 : integrationParams.credentials]);\n  const handleAuth = useCallback(async action => {\n    setState(prev => ({\n      ...prev,\n      isLoading: true,\n      error: null\n    }));\n    try {\n      if (action === 'connect') {\n        const {\n          data\n        } = await axios.post(ENDPOINTS.authorize, {\n          user_id: user,\n          org_id: org\n        });\n        if (!(data !== null && data !== void 0 && data.url)) throw new Error('Authorization URL missing');\n        localStorage.setItem('hubspot_connection', JSON.stringify({\n          user,\n          org\n        }));\n        window.location.href = data.url;\n      } else if (action === 'disconnect') {\n        await axios.delete(ENDPOINTS.credentials, {\n          data: {\n            user_id: user,\n            org_id: org\n          }\n        });\n        setState(prev => ({\n          ...prev,\n          isConnected: false,\n          items: []\n        }));\n        setIntegrationParams(prev => ({\n          ...prev,\n          credentials: null\n        }));\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      const errorMsg = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || error.message || 'Operation failed';\n      setState(prev => ({\n        ...prev,\n        error: typeof errorMsg === 'object' ? JSON.stringify(errorMsg) : errorMsg\n      }));\n    } finally {\n      setState(prev => ({\n        ...prev,\n        isLoading: false\n      }));\n    }\n  }, [user, org, setIntegrationParams]);\n  const fetchItems = useCallback(async () => {\n    setState(prev => ({\n      ...prev,\n      isLoading: true,\n      error: null\n    }));\n    try {\n      const {\n        data\n      } = await axios.get(ENDPOINTS.items, {\n        params: {\n          user_id: user,\n          org_id: org\n        }\n      });\n      setState(prev => ({\n        ...prev,\n        items: (data === null || data === void 0 ? void 0 : data.items) || []\n      }));\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      const errorMsg = ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.detail) || error.message || 'Fetch failed';\n      setState(prev => ({\n        ...prev,\n        error: errorMsg\n      }));\n    } finally {\n      setState(prev => ({\n        ...prev,\n        isLoading: false\n      }));\n    }\n  }, [user, org]);\n  useEffect(() => {\n    checkConnection();\n  }, [checkConnection]);\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search);\n    const code = params.get('code');\n    const error = params.get('error');\n    if (error) {\n      setState(prev => ({\n        ...prev,\n        error: `Authorization failed: ${error}`\n      }));\n      return;\n    }\n    if (code) {\n      const completeConnection = async () => {\n        try {\n          const connection = JSON.parse(localStorage.getItem('hubspot_connection') || '{}');\n          if (connection.user !== user || connection.org !== org) throw new Error('User mismatch');\n          const {\n            data\n          } = await axios.post(ENDPOINTS.credentials, {\n            user_id: user,\n            org_id: org,\n            code\n          });\n          if (!(data !== null && data !== void 0 && data.access_token)) throw new Error('Invalid credentials');\n          setState(prev => ({\n            ...prev,\n            isConnected: true\n          }));\n          setIntegrationParams(prev => ({\n            ...prev,\n            credentials: data,\n            type: 'HubSpot'\n          }));\n          localStorage.removeItem('hubspot_connection');\n          navigate('/integrations', {\n            replace: true\n          });\n        } catch (error) {\n          var _error$response3, _error$response3$data;\n          const errorMsg = ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.detail) || error.message || 'Connection failed';\n          setState(prev => ({\n            ...prev,\n            error: errorMsg\n          }));\n        }\n      };\n      completeConnection();\n    }\n  }, [navigate, user, org, setIntegrationParams]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      mt: 2,\n      p: 2,\n      border: '1px solid #ddd',\n      borderRadius: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      children: \"HubSpot Integration\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), state.error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2\n      },\n      onClose: () => setState(prev => ({\n        ...prev,\n        error: null\n      })),\n      children: state.error.includes('404') ? 'Endpoint not found' : state.error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      alignItems: \"center\",\n      gap: 2,\n      sx: {\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: state.isConnected ? 'success' : 'primary',\n        onClick: () => handleAuth(state.isConnected ? 'disconnect' : 'connect'),\n        disabled: state.isLoading,\n        startIcon: state.isLoading && /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 20,\n          color: \"inherit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 41\n        }, this),\n        children: state.isConnected ? 'Disconnect' : state.isLoading ? 'Processing...' : 'Connect'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), state.isConnected && /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        onClick: fetchItems,\n        disabled: state.isLoading,\n        startIcon: state.isLoading && /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 43\n        }, this),\n        children: state.isLoading ? 'Fetching...' : 'Fetch Contacts'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), state.isConnected && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Divider, {\n        sx: {\n          my: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        gutterBottom: true,\n        children: \"HubSpot Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this), state.items.length > 0 ? /*#__PURE__*/_jsxDEV(List, {\n        dense: true,\n        sx: {\n          maxHeight: 300,\n          overflow: 'auto'\n        },\n        children: state.items.map((item, index) => {\n          var _item$metadata, _item$metadata2;\n          return /*#__PURE__*/_jsxDEV(ListItem, {\n            divider: true,\n            children: /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: item.name || 'Unnamed Contact',\n              secondary: /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [item.description || 'No description', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 25\n                }, this), ((_item$metadata = item.metadata) === null || _item$metadata === void 0 ? void 0 : _item$metadata.company) && `Company: ${item.metadata.company}`, ((_item$metadata2 = item.metadata) === null || _item$metadata2 === void 0 ? void 0 : _item$metadata2.phone) && ` • Phone: ${item.metadata.phone}`]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 19\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        children: state.isLoading ? 'Loading...' : 'No contacts found'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n};\n_s(HubSpotIntegration, \"kUY6DvDqYgSHTWLA+QQdd06Y/VU=\", false, function () {\n  return [useNavigate];\n});\n_c = HubSpotIntegration;\nexport default HubSpotIntegration;\nvar _c;\n$RefreshReg$(_c, \"HubSpotIntegration\");","map":{"version":3,"names":["useState","useEffect","useCallback","useNavigate","Box","Button","CircularProgress","List","ListItem","ListItemText","Typography","Alert","Divider","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE","ENDPOINTS","authorize","credentials","items","HubSpotIntegration","user","org","integrationParams","setIntegrationParams","_s","state","setState","isConnected","isLoading","error","navigate","checkConnection","data","get","params","user_id","org_id","prev","connected","console","handleAuth","action","post","url","Error","localStorage","setItem","JSON","stringify","window","location","href","delete","_error$response","_error$response$data","errorMsg","response","detail","message","fetchItems","_error$response2","_error$response2$data","URLSearchParams","search","code","completeConnection","connection","parse","getItem","access_token","type","removeItem","replace","_error$response3","_error$response3$data","sx","mt","p","border","borderRadius","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","severity","mb","onClose","includes","display","alignItems","gap","color","onClick","disabled","startIcon","size","my","length","dense","maxHeight","overflow","map","item","index","_item$metadata","_item$metadata2","divider","primary","name","secondary","description","metadata","company","phone","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Documents/bcg/New folder/integrations_technical_assessment/frontend/src/integrations/hubspot.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Box, Button, CircularProgress, List, ListItem, ListItemText, Typography, Alert, Divider } from '@mui/material';\r\nimport axios from 'axios';\r\n\r\nconst API_BASE = 'http://localhost:8000';\r\nconst ENDPOINTS = {\r\n  authorize: `${API_BASE}/integrations/hubspot/authorize`,\r\n  credentials: `${API_BASE}/integrations/hubspot/credentials`,\r\n  items: `${API_BASE}/integrations/hubspot/items`\r\n};\r\n\r\nexport const HubSpotIntegration = ({ user, org, integrationParams, setIntegrationParams }) => {\r\n  const [state, setState] = useState({\r\n    isConnected: !!integrationParams?.credentials,\r\n    isLoading: false,\r\n    items: [],\r\n    error: null\r\n  });\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const checkConnection = useCallback(async () => {\r\n    if (!integrationParams?.credentials) return;\r\n    try {\r\n      const { data } = await axios.get(ENDPOINTS.credentials, { params: { user_id: user, org_id: org } });\r\n      setState(prev => ({ ...prev, isConnected: data?.connected || false }));\r\n    } catch (error) {\r\n      console.error('Connection check failed:', error);\r\n    }\r\n  }, [user, org, integrationParams?.credentials]);\r\n\r\n  const handleAuth = useCallback(async (action) => {\r\n    setState(prev => ({ ...prev, isLoading: true, error: null }));\r\n    \r\n    try {\r\n      if (action === 'connect') {\r\n        const { data } = await axios.post(ENDPOINTS.authorize, { user_id: user, org_id: org });\r\n        if (!data?.url) throw new Error('Authorization URL missing');\r\n        localStorage.setItem('hubspot_connection', JSON.stringify({ user, org }));\r\n        window.location.href = data.url;\r\n      } else if (action === 'disconnect') {\r\n        await axios.delete(ENDPOINTS.credentials, { data: { user_id: user, org_id: org } });\r\n        setState(prev => ({ ...prev, isConnected: false, items: [] }));\r\n        setIntegrationParams(prev => ({ ...prev, credentials: null }));\r\n      }\r\n    } catch (error) {\r\n      const errorMsg = error.response?.data?.detail || error.message || 'Operation failed';\r\n      setState(prev => ({ ...prev, error: typeof errorMsg === 'object' ? JSON.stringify(errorMsg) : errorMsg }));\r\n    } finally {\r\n      setState(prev => ({ ...prev, isLoading: false }));\r\n    }\r\n  }, [user, org, setIntegrationParams]);\r\n\r\n  const fetchItems = useCallback(async () => {\r\n    setState(prev => ({ ...prev, isLoading: true, error: null }));\r\n    try {\r\n      const { data } = await axios.get(ENDPOINTS.items, { params: { user_id: user, org_id: org } });\r\n      setState(prev => ({ ...prev, items: data?.items || [] }));\r\n    } catch (error) {\r\n      const errorMsg = error.response?.data?.detail || error.message || 'Fetch failed';\r\n      setState(prev => ({ ...prev, error: errorMsg }));\r\n    } finally {\r\n      setState(prev => ({ ...prev, isLoading: false }));\r\n    }\r\n  }, [user, org]);\r\n\r\n  useEffect(() => { checkConnection(); }, [checkConnection]);\r\n\r\n  useEffect(() => {\r\n    const params = new URLSearchParams(window.location.search);\r\n    const code = params.get('code');\r\n    const error = params.get('error');\r\n\r\n    if (error) {\r\n      setState(prev => ({ ...prev, error: `Authorization failed: ${error}` }));\r\n      return;\r\n    }\r\n\r\n    if (code) {\r\n      const completeConnection = async () => {\r\n        try {\r\n          const connection = JSON.parse(localStorage.getItem('hubspot_connection') || '{}');\r\n          if (connection.user !== user || connection.org !== org) throw new Error('User mismatch');\r\n          \r\n          const { data } = await axios.post(ENDPOINTS.credentials, { user_id: user, org_id: org, code });\r\n          if (!data?.access_token) throw new Error('Invalid credentials');\r\n          \r\n          setState(prev => ({ ...prev, isConnected: true }));\r\n          setIntegrationParams(prev => ({ ...prev, credentials: data, type: 'HubSpot' }));\r\n          localStorage.removeItem('hubspot_connection');\r\n          navigate('/integrations', { replace: true });\r\n        } catch (error) {\r\n          const errorMsg = error.response?.data?.detail || error.message || 'Connection failed';\r\n          setState(prev => ({ ...prev, error: errorMsg }));\r\n        }\r\n      };\r\n      completeConnection();\r\n    }\r\n  }, [navigate, user, org, setIntegrationParams]);\r\n\r\n  return (\r\n    <Box sx={{ mt: 2, p: 2, border: '1px solid #ddd', borderRadius: 2 }}>\r\n      <Typography variant=\"h6\" gutterBottom>HubSpot Integration</Typography>\r\n      \r\n      {state.error && <Alert severity=\"error\" sx={{ mb: 2 }} onClose={() => setState(prev => ({ ...prev, error: null }))}>\r\n        {state.error.includes('404') ? 'Endpoint not found' : state.error}\r\n      </Alert>}\r\n\r\n      <Box display=\"flex\" alignItems=\"center\" gap={2} sx={{ mb: 3 }}>\r\n        <Button\r\n          variant=\"contained\"\r\n          color={state.isConnected ? 'success' : 'primary'}\r\n          onClick={() => handleAuth(state.isConnected ? 'disconnect' : 'connect')}\r\n          disabled={state.isLoading}\r\n          startIcon={state.isLoading && <CircularProgress size={20} color=\"inherit\" />}\r\n        >\r\n          {state.isConnected ? 'Disconnect' : state.isLoading ? 'Processing...' : 'Connect'}\r\n        </Button>\r\n        \r\n        {state.isConnected && (\r\n          <Button\r\n            variant=\"outlined\"\r\n            onClick={fetchItems}\r\n            disabled={state.isLoading}\r\n            startIcon={state.isLoading && <CircularProgress size={20} />}\r\n          >\r\n            {state.isLoading ? 'Fetching...' : 'Fetch Contacts'}\r\n          </Button>\r\n        )}\r\n      </Box>\r\n\r\n      {state.isConnected && (\r\n        <>\r\n          <Divider sx={{ my: 2 }} />\r\n          <Typography variant=\"subtitle1\" gutterBottom>HubSpot Data</Typography>\r\n          \r\n          {state.items.length > 0 ? (\r\n            <List dense sx={{ maxHeight: 300, overflow: 'auto' }}>\r\n              {state.items.map((item, index) => (\r\n                <ListItem key={index} divider>\r\n                  <ListItemText\r\n                    primary={item.name || 'Unnamed Contact'}\r\n                    secondary={\r\n                      <>\r\n                        {item.description || 'No description'}\r\n                        <br />\r\n                        {item.metadata?.company && `Company: ${item.metadata.company}`}\r\n                        {item.metadata?.phone && ` • Phone: ${item.metadata.phone}`}\r\n                      </>\r\n                    }\r\n                  />\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n          ) : (\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              {state.isLoading ? 'Loading...' : 'No contacts found'}\r\n            </Typography>\r\n          )}\r\n        </>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default HubSpotIntegration;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}